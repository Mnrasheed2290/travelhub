{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FlightBook(){const[flightOffer,setFlightOffer]=useState(null);const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');useEffect(()=>{const storedFlight=localStorage.getItem('selectedFlight');if(storedFlight){setFlightOffer(JSON.parse(storedFlight));}},[]);const bookFlight=async()=>{try{const traveler={id:'1',dateOfBirth:'1990-01-01',name:{firstName,lastName},gender:'MALE',contact:{emailAddress:'test@example.com',phones:[{deviceType:'MOBILE',countryCallingCode:'1',number:'1234567890'}]},documents:[{documentType:'PASSPORT',number:'123456789',expiryDate:'2025-01-01',issuanceCountry:'US',nationality:'US',holder:true}]};const response=await axios.post(`${process.env.REACT_APP_API_URL}/flights/book`,{flightOffer,traveler});alert('Booking successful!');console.log(response.data);}catch(error){console.error(error);alert('Error booking flight');}};if(!flightOffer){return/*#__PURE__*/_jsx(\"p\",{children:\"No flight selected.\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Book Flight\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"First Name\",value:firstName,onChange:e=>setFirstName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Last Name\",value:lastName,onChange:e=>setLastName(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:bookFlight,children:\"Confirm Booking\"})]});}export default FlightBook;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","FlightBook","flightOffer","setFlightOffer","firstName","setFirstName","lastName","setLastName","storedFlight","localStorage","getItem","JSON","parse","bookFlight","traveler","id","dateOfBirth","name","gender","contact","emailAddress","phones","deviceType","countryCallingCode","number","documents","documentType","expiryDate","issuanceCountry","nationality","holder","response","post","process","env","REACT_APP_API_URL","alert","console","log","data","error","children","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/maria/Desktop/travelhub/client/src/pages/FlightBook.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction FlightBook() {\r\n  const [flightOffer, setFlightOffer] = useState(null);\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n\r\n  useEffect(() => {\r\n    const storedFlight = localStorage.getItem('selectedFlight');\r\n    if (storedFlight) {\r\n      setFlightOffer(JSON.parse(storedFlight));\r\n    }\r\n  }, []);\r\n\r\n  const bookFlight = async () => {\r\n    try {\r\n      const traveler = {\r\n        id: '1',\r\n        dateOfBirth: '1990-01-01',\r\n        name: {\r\n          firstName,\r\n          lastName\r\n        },\r\n        gender: 'MALE',\r\n        contact: {\r\n          emailAddress: 'test@example.com',\r\n          phones: [{\r\n            deviceType: 'MOBILE',\r\n            countryCallingCode: '1',\r\n            number: '1234567890'\r\n          }]\r\n        },\r\n        documents: [{\r\n          documentType: 'PASSPORT',\r\n          number: '123456789',\r\n          expiryDate: '2025-01-01',\r\n          issuanceCountry: 'US',\r\n          nationality: 'US',\r\n          holder: true\r\n        }]\r\n      };\r\n\r\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/flights/book`, {\r\n        flightOffer,\r\n        traveler\r\n      });\r\n\r\n      alert('Booking successful!');\r\n      console.log(response.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Error booking flight');\r\n    }\r\n  };\r\n\r\n  if (!flightOffer) {\r\n    return <p>No flight selected.</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Book Flight</h2>\r\n      <input placeholder=\"First Name\" value={firstName} onChange={e => setFirstName(e.target.value)} />\r\n      <input placeholder=\"Last Name\" value={lastName} onChange={e => setLastName(e.target.value)} />\r\n      <button onClick={bookFlight}>Confirm Booking</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FlightBook;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACU,SAAS,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,YAAY,CAAGC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAC3D,GAAIF,YAAY,CAAE,CAChBL,cAAc,CAACQ,IAAI,CAACC,KAAK,CAACJ,YAAY,CAAC,CAAC,CAC1C,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,CACfC,EAAE,CAAE,GAAG,CACPC,WAAW,CAAE,YAAY,CACzBC,IAAI,CAAE,CACJb,SAAS,CACTE,QACF,CAAC,CACDY,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACPC,YAAY,CAAE,kBAAkB,CAChCC,MAAM,CAAE,CAAC,CACPC,UAAU,CAAE,QAAQ,CACpBC,kBAAkB,CAAE,GAAG,CACvBC,MAAM,CAAE,YACV,CAAC,CACH,CAAC,CACDC,SAAS,CAAE,CAAC,CACVC,YAAY,CAAE,UAAU,CACxBF,MAAM,CAAE,WAAW,CACnBG,UAAU,CAAE,YAAY,CACxBC,eAAe,CAAE,IAAI,CACrBC,WAAW,CAAE,IAAI,CACjBC,MAAM,CAAE,IACV,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAnC,KAAK,CAACoC,IAAI,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,eAAe,CAAE,CACjFjC,WAAW,CACXY,QACF,CAAC,CAAC,CAEFsB,KAAK,CAAC,qBAAqB,CAAC,CAC5BC,OAAO,CAACC,GAAG,CAACP,QAAQ,CAACQ,IAAI,CAAC,CAC5B,CAAE,MAAOC,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC,CACpBJ,KAAK,CAAC,sBAAsB,CAAC,CAC/B,CACF,CAAC,CAED,GAAI,CAAClC,WAAW,CAAE,CAChB,mBAAOJ,IAAA,MAAA2C,QAAA,CAAG,qBAAmB,CAAG,CAAC,CACnC,CAEA,mBACEzC,KAAA,QAAAyC,QAAA,eACE3C,IAAA,OAAA2C,QAAA,CAAI,aAAW,CAAI,CAAC,cACpB3C,IAAA,UAAO4C,WAAW,CAAC,YAAY,CAACC,KAAK,CAAEvC,SAAU,CAACwC,QAAQ,CAAEC,CAAC,EAAIxC,YAAY,CAACwC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cACjG7C,IAAA,UAAO4C,WAAW,CAAC,WAAW,CAACC,KAAK,CAAErC,QAAS,CAACsC,QAAQ,CAAEC,CAAC,EAAItC,WAAW,CAACsC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAC9F7C,IAAA,WAAQiD,OAAO,CAAElC,UAAW,CAAA4B,QAAA,CAAC,iBAAe,CAAQ,CAAC,EAClD,CAAC,CAEV,CAEA,cAAe,CAAAxC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}